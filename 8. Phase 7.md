# **ðŸ“Œ Phase 7: Add Job Upload Form (Frontend)**
_(This will allow admin users to add new job descriptions directly from the UI.)_

---

## **ðŸ”¹ Step 37: Create a "CreateJob" Component**

### **37.1 Create a file: `frontend/src/components/CreateJob.jsx`**

```bash
cd ~/ai-recruitment-system/frontend/src/components
touch CreateJob.jsx
```

Now open `CreateJob.jsx` and paste the following:

```jsx
import React, { useState } from 'react';
import { createJob } from '../api/api';

function CreateJob() {
  const [title, setTitle] = useState('');
  const [description, setDescription] = useState('');

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await createJob({ title, description });
      alert('Job Created Successfully');
      setTitle('');
      setDescription('');
    } catch (err) {
      console.error(err);
      alert('Error creating job');
    }
  };

  return (
    <div className="max-w-2xl mx-auto p-6">
      <h2 className="text-2xl font-bold mb-4">Post New Job</h2>
      <form onSubmit={handleSubmit} className="space-y-4">
        <div>
          <label className="block text-gray-700">Job Title</label>
          <input
            type="text"
            value={title}
            onChange={(e) => setTitle(e.target.value)}
            className="w-full p-2 border rounded"
            required
          />
        </div>
        <div>
          <label className="block text-gray-700">Job Description</label>
          <textarea
            value={description}
            onChange={(e) => setDescription(e.target.value)}
            className="w-full p-2 border rounded"
            required
          ></textarea>
        </div>
        <button
          type="submit"
          className="bg-blue-500 text-white px-4 py-2 rounded"
        >
          Submit
        </button>
      </form>
    </div>
  );
}

export default CreateJob;
```

---

## **ðŸ”¹ Step 38: Update the Frontend API**

Right now we donâ€™t have a `createJob` function. Letâ€™s add it.

### **38.1 Open: `frontend/src/api/api.js`**

Add this function at the bottom:

```javascript
export const createJob = (jobData) => api.post('/jobs/create/', jobData);
```

---

## **ðŸ”¹ Step 39: Add "Create Job" API in Backend**

Currently, our backend does **not** have an API to create a job directly.

Let's add it.

### **39.1 Open backend file `resume_analysis/views.py`**

Add this function:

```python
@api_view(['POST'])
def create_job(request):
    serializer = JobDescriptionSerializer(data=request.data)
    if serializer.is_valid():
        serializer.save()
        return Response(serializer.data)
    return Response(serializer.errors, status=400)
```

---

### **39.2 Update backend file `resume_analysis/urls.py`**

Add this path:
```python
from .views import upload_resume, list_jobs, delete_job, create_job

urlpatterns = [
    path('upload/', upload_resume, name='upload-resume'),
    path('jobs/', list_jobs, name='list-jobs'),
    path('jobs/<int:pk>/delete/', delete_job, name='delete-job'),
    path('jobs/create/', create_job, name='create-job'),  # <<< new line
]
```

---

## **ðŸ”¹ Step 40: Update Frontend Routing**

We need a route `/admin/create` to open the CreateJob form.

### **40.1 Open file `frontend/src/main.jsx`**

Update the imports and routes:

```jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import Home from './pages/Home';
import AdminDashboard from './components/AdminDashboard';
import CreateJob from './components/CreateJob'; // <<< NEW
import './index.css';

ReactDOM.createRoot(document.getElementById('root')).render(
  <BrowserRouter>
    <Routes>
      <Route path="/" element={<Home />} />
      <Route path="/admin" element={<AdminDashboard />} />
      <Route path="/admin/create" element={<CreateJob />} /> {/* <<< NEW */}
    </Routes>
  </BrowserRouter>
);
```

---

## **ðŸ”¹ Step 41: Test Create Job Flow**

### **41.1 Make sure backend is running**
```bash
cd ~/ai-recruitment-system/backend
python manage.py runserver
```

### **41.2 Make sure frontend is running**
```bash
cd ~/ai-recruitment-system/frontend
npm run dev
```

### **41.3 Open your browser and visit**
```
http://127.0.0.1:5173/admin/create
```

You should see a form:
- Enter a job title
- Enter a job description
- Click Submit
- Success alert should pop up
- The job should now appear in `/admin` dashboard as well.

---

# âœ… Phase 7 Completed â€” Job Upload System Ready

---

# **ðŸ“‚ Quick Summary: New Files/Changes Done**

| Filepath                            | Purpose                         |
| ------------------------------------ | ------------------------------- |
| `frontend/src/components/CreateJob.jsx` | UI Form for posting jobs         |
| `frontend/src/api/api.js`            | New `createJob` API function     |
| `resume_analysis/views.py`           | New `create_job` backend API     |
| `resume_analysis/urls.py`            | API route for creating job       |
| `frontend/src/main.jsx`              | Frontend routes updated          |

---
